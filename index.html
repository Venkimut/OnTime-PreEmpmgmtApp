<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Pre Employment - Application</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet">
    <script src="https://code.jquery.com/jquery-3.7.1.min.js" crossorigin="anonymous"></script>
    <link rel="stylesheet" href="/fileinput.css?v=1">
    <style>
        :root {
            --font-size: 14px;
            --theme-color: #00287d;
        }

        body * {
            color: #00287c;
        }

        section label {
            align-self: end;
            white-space: nowrap;
            font-size: var(--font-size) !important;
            font-weight: 600;
        }

        .bottom-dotted {
            border: 0;
            border-bottom: 2px solid var(--theme-color);
            border-style: dashed;
            border-radius: 0;
            margin-left: 7px;
            font-size: var(--font-size) !important;
        }

        input:focus {
            outline: none !important;
            box-shadow: none !important;
        }

        fieldset {
            font-size: var(--font-size) !important;
        }

        .border-left {
            border-left: 2px solid var(--theme-color) !important;
        }

        .border-right {
            border-right: 2px solid var(--theme-color) !important;
        }

        .border {
            border-color: var(--theme-color) !important;
        }

        .bottom-dotted::placeholder {
            text-align: center;
        }
    </style>
</head>

<body class="bg-light">
    <div class="container">
        <div class="row justify-content-center mt-5">
            <div class="col-lg-10 bg-white shadow p-5" id="container">
                <div class="row">
                    <div class="col-3 m-auto">
                        <img src="/logo.png" alt="" style="width: 60%;" srcset="">
                    </div>
                    <div class="col-lg-6 m-auto text-center">
                        <h5>HUMAN RESOURCES DEPARTMENT</h5>
                        <h3 class="font-weight-bold">EMPLOYMENT APPLICATION</h3>
                    </div>
                    <div class="col-2 offset-1 text-end">
                        <div class="kv-avatar fx-kv-avatar">
                            <div class="file-loading">
                                <input id="avatar-2" name="profile_pic" type="file" style="opacity: 0;" required>
                            </div>
                        </div>
                        <!-- <img src="/logo.png" alt="" srcset=""> -->
                    </div>
                </div>
                <hr class="mt-3">
                <p>We appreciate your interest in applying to our Group and kindly ask you to fill all sections
                    requirements here below. You need to provide us with complete information in order to be able to
                    evaluate your request. All information provided will be treated confidentially.</p>

                <section>
                    <div class="row">
                        <div class="h6"><b>I - <u>PERSONAL INFORMATION</u></b></div>
                        <fieldset class="ms-2 me-2 border p-3">
                            <div class="row">
                                <div class="col-12 d-flex">
                                    <label for="">Applicant Name</label>
                                    <input type="text" class="form-control bottom-dotted" name="" id=""
                                        aria-describedby="helpId" placeholder="First Name">
                                    <input type="text" class="form-control bottom-dotted" name="" id=""
                                        aria-describedby="helpId" placeholder="Middle Name">
                                    <input type="text" class="form-control bottom-dotted" name="" id=""
                                        aria-describedby="helpId" placeholder="Last Name">
                                    <input type="text" class="form-control bottom-dotted border-left" name="" id=""
                                        aria-describedby="helpId" placeholder="Spouse / Family Name">
                                </div>
                            </div>
                            <div class="row mt-3">
                                <div class="col-12 d-flex" dir="rtl">
                                    <label for=""> اسم مقدم الطلب </label>
                                    <input type="text" class="form-control bottom-dotted" name="" id=""
                                        aria-describedby="helpId" placeholder="الاسم">
                                    <input type="text" class="form-control bottom-dotted" name="" id=""
                                        aria-describedby="helpId" placeholder=" اسم  الأب">
                                    <input type="text" class="form-control bottom-dotted" name="" id=""
                                        aria-describedby="helpId" placeholder="  الشهرة ">
                                    <input type="text" class="form-control bottom-dotted border-right" name="" id=""
                                        aria-describedby="helpId" placeholder="  شهرة الزوج">
                                </div>
                            </div>
                        </fieldset>
                    </div>

                </section>
            </div>
        </div>
    </div>

    <script src="/fileinput.js"></script>
    <script>
        function initAvatar() {
            var btnCust =
                '<div class="action-btn-group"><button  type="button" class="fx-btn-1 btn btn-success" onclick="updateProfilePicture();">Update</button><button  type="button" onclick="closeAvatarModal()" class="btn btn-danger">Cancel</button></div>';
            $("#avatar-2").fileinput({
                overwriteInitial: true,
                maxFileSize: 1500,
                showClose: false,
                showCaption: false,
                showBrowse: false,
                browseOnZoneClick: true,
                removeLabel: '',
                removeIcon: '<button type="button" class="btn btn-danger">Cancel</button>',
                removeTitle: 'Cancel or reset changes',
                elErrorContainer: '#kv-avatar-errors-2',
                msgErrorClass: 'alert alert-block alert-danger',
                defaultPreviewContent: '<img src="/passport.webp" alt="User DP" style="position: absolute;left: -1px;width: 102%;top: -20px;"><h6 class="text-muted">Click to select</h6>',
                // layoutTemplates: {
                //     main2: '{preview} ' + btnCust + ''
                // },
                layoutTemplates: {
                    main2: '{preview}'
                },
                allowedFileExtensions: ["jpg", "png"]
            });
        }

        function loadAvatarModal() {
            $('#fx-avatar').hide();
            $('#fx-avatar-update').slideDown('slow').show();
            $('#fx-avatar-update').show();
        }

        function closeAvatarModal() {
            $('#fx-avatar-update').hide();
            $("#avatar-2").FileInput('destroy');
            let previewHtml =
                '<div class="file-loading"><input id="avatar-2" name="profile_pic" type="file" required></div>';
            $('.fx-kv-avatar').html(previewHtml);
            setTimeout(function () {
                initAvatar();
            }, 1000);
            $('#fx-avatar').show();
        }

        function updateProfilePicture() {
            var formData = new FormData($("#fx-avatar-form")[0]);
            console.log(formData);
            $.ajax({
                type: 'post',
                url: 'update_profile_picture',
                cache: false,
                data: formData,
                processData: false,
                contentType: false,
                enctype: 'multipart/form-data',
                success: function (response) {
                    console.log(response);
                    setTimeout(function () {
                        $('#menu-item-user').click();
                    }, 2000);
                }
            });
        }
        initAvatar();
    </script>
</body>

</html>